<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <div class="container my-5">
      <div class="row justify-content-center">
        <div class="col-md-3 border border-dark border-3">
          <h2 class="text-center mb-5">Admin Login</h2>

          <% if(typeof message!=='undefined'){ %>
            <p style="color: red"></p>
          <h5><%=message %></h5>
          <% } %>

          <form
            id="login-form"
            method="post"
            action="/admin"
            class="form-login"
          >
            <div class="form-group">
              <label for="email">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Enter email"
              />
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Enter password"
              />
            </div>
          
            <div class="text-center mt-4">
              <button type="submit" class="btn btn-primary">Login</button>
            </div>
            <div class="text-center my-2 ">
              <a href="login" class="btn btn-dark btn-sm">Back to User Login</a>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script>
      const form = document.getElementById("login-form");

      const emailRegex = /^\S+@\S+\.\S+$/;

      const passwordRegex =
        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,20}$/;

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const emailin = document.getElementById("email").value;

        const passwordin = document.getElementById("password").value;

        if (!emailRegex.test(emailin)) {
          //  = "please enter a valid email";
          alert("please enter a valid email");
          // emailin.focus();
          return;
        }
        if (!passwordRegex.test(passwordin)) {
          alert("Password must be at least 8 characters long.");
          // passwordin.focus();
          return;
        }
        form.submit();
      });
    </script>
  </body>
</html>
